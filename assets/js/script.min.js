const urlParams=new URLSearchParams(window.location.search),toValue=urlParams.get("to");document.getElementById("recipient").textContent=toValue?decodeURIComponent(toValue):"Kepada Winning Team Bharata",document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("open-invitation"),e=document.getElementById("muteButton"),n=document.getElementById("volumeIcon"),o=document.getElementById("backgroundMusic"),a=document.getElementById("audio-control"),c=document.getElementById("cover"),i=document.getElementById("main-content"),s=document.getElementById("navigation"),d=document.querySelectorAll(".section"),l=document.querySelectorAll(".nav-btn"),r=document.getElementById("confetti-container");const m=document.createElement("style");m.innerHTML="\n        @keyframes confettiFall {\n        0% {\n            opacity: 1;\n            top: -20px;\n        }\n        80% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0;\n            top: 100vh;\n        }\n        }\n        \n        @keyframes confettiSway {\n        0% {\n            transform: translateX(-10px) rotate(0deg);\n        }\n        100% {\n            transform: translateX(10px) rotate(360deg);\n        }\n        }\n    ",document.head.appendChild(m),c.querySelectorAll(".fade-in").forEach(((t,e)=>{setTimeout((()=>{t.style.opacity=1,t.style.transform="translateY(0)"}),200*e)})),t.addEventListener("click",(function(){a.classList.remove("hidden"),o&&(o.volume=.5,o.play().catch((t=>console.log("Audio playback error:",t)))),e.addEventListener("click",(function(){o.paused?(o.play(),n.classList.remove("fa-volume-up"),n.classList.add("fa-volume-mute")):(o.pause(),n.classList.remove("fa-volume-mute"),n.classList.add("fa-volume-up"))})),function(){const t=["#ffc107","#4CAF50","#9C27B0","#FF9800","#2196F3"],e=["square","circle","diamond","star"];for(let n=0;n<300;n++){const n=document.createElement("div");n.classList.add("confetti");const o=e[Math.floor(Math.random()*e.length)];n.classList.add(o),n.style.backgroundColor="diamond"===o?"#4CAF50":"star"===o?"#ffc107":t[Math.floor(Math.random()*t.length)],n.style.left=100*Math.random()+"vw",n.style.top="-20px";let a=360*Math.random();"diamond"===o&&(a+=45),n.style.transform="rotate("+a+"deg)";let c=10*Math.random()+5;"star"===o&&(c=12*Math.random()+8),n.style.width=c+"px",n.style.height=c+"px",r.appendChild(n);const i=3*Math.random()+2,s=5*Math.random();n.style.animation=`\n            confettiFall ${i}s ease-in ${s}s forwards,\n            confettiSway ${.5*i}s ease-in-out ${s}s alternate infinite\n          `}}(),c.classList.remove("active"),c.style.display="none",i.classList.remove("d-none"),s.classList.remove("d-none"),d.forEach((t=>{"cover"!==t.id&&(t.classList.add("active"),t.style.opacity=1)})),document.querySelector('[data-section="quote"]').classList.add("active"),document.getElementById("quote").scrollIntoView({behavior:"smooth"}),d.forEach((t=>{"cover"!==t.id&&t.querySelectorAll(".fade-in").forEach(((t,e)=>{const n=new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting&&(setTimeout((()=>{t.style.opacity=1,t.style.transform="translateY(0)"}),200*e),n.unobserve(t))}))}),{threshold:.1});n.observe(t)}))}))})),l.forEach((t=>{t.addEventListener("click",(function(t){if(t.preventDefault(),null===this.getAttribute("data-section"))return void location.reload();const e=this.getAttribute("data-section");l.forEach((t=>t.classList.remove("active"))),this.classList.add("active"),document.getElementById(e).scrollIntoView({behavior:"smooth"})}))})),window.addEventListener("scroll",(function(){if(i.classList.contains("d-none"))return;let t="",e=1/0;d.forEach((n=>{if("cover"===n.id)return;const o=n.getBoundingClientRect(),a=Math.abs(o.top);a<e&&(e=a,t=n.getAttribute("id"))})),t&&l.forEach((e=>{e.classList.remove("active"),e.getAttribute("data-section")===t&&e.classList.add("active")}))})),window.addEventListener("scroll",(function(){clearTimeout(window.scrollEndTimer),window.scrollEndTimer=setTimeout((function(){let t="",e=0;d.forEach((n=>{if("cover"===n.id)return;const o=n.getBoundingClientRect(),a=Math.max(document.documentElement.clientHeight,window.innerHeight),c=(Math.min(o.bottom,a)-Math.max(o.top,0))/a;c>e&&(e=c,t=n.getAttribute("id"))})),t&&l.forEach((e=>{e.classList.remove("active"),e.getAttribute("data-section")===t&&e.classList.add("active")}))}),100)}));const u=5,f=document.querySelectorAll(".rundown-item"),h=f.length,v=Math.ceil(h/u),y=document.getElementById("prev-page"),g=document.getElementById("next-page"),E=document.getElementById("current-page");document.getElementById("total-pages").textContent=v;let p=1;function L(t){f.forEach((t=>{t.classList.remove("active")}));const e=(t-1)*u,n=Math.min(e+u-1,h-1);for(let t=e;t<=n;t++)f[t].classList.add("active");E.textContent=t}function w(){y.disabled=1===p,g.disabled=p===v}y.addEventListener("click",(function(){p>1&&(p--,L(p),w())})),g.addEventListener("click",(function(){p<v&&(p++,L(p),w())})),L(p),w()}));